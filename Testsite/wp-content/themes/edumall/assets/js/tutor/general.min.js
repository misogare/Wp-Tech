!function(n){"use strict";var t=n("body");function e(){1200<=window.innerWidth?(t.addClass("dashboard-nav-fixed"),t.removeClass("dashboard-nav-opened")):t.removeClass("dashboard-nav-fixed");var e=window.innerHeight-n(".dashboard-nav-header").outerHeight()-50;n(".dashboard-nav-content-inner").height(e).perfectScrollbar({suppressScrollX:!0})}n(document).ready(function(){n(document).on("click",".edumall-course-wishlist-btn",function(e){var a;e.preventDefault(),n("body").hasClass("logged-in")&&(e=(a=n(this)).attr("data-course-id"),n.ajax({url:$edumall.ajaxurl,type:"POST",data:{course_id:e,action:"tutor_course_add_to_wishlist"},beforeSend:function(){a.children(".button-content-wrapper").addClass("updating-icon")},success:function(e){var t;e.success?(t=a.parent(".tm-button-wrapper"),"added"===e.data.status?(t.attr("aria-label",$edumallCourseWishlist.addedText),t.addClass("added"),a.addClass("has-wish-listed"),a.find(".button-text").text($edumallCourseWishlist.addedText)):(t.attr("aria-label",$edumallCourseWishlist.addText),t.removeClass("added"),a.removeClass("has-wish-listed"),a.find(".button-text").text($edumallCourseWishlist.addText))):window.location=e.data.redirect_to},complete:function(){a.children(".button-content-wrapper").removeClass("updating-icon")}}))}),n(document).on("click",".custom_tutor_submit_review_btn",function(e){e.preventDefault();var t=n(this),a=t.closest("form").find('input[name="tutor_rating_gen_input"]').val(),e=(e=t.closest("form").find('textarea[name="review"]').val()).trim(),a={course_id:n('input[name="tutor_course_id"]').val(),rating:a,review:e,action:"edumall_place_rating"};e&&n.ajax({url:_tutorobject.ajaxurl,type:"POST",data:a,beforeSend:function(){t.addClass("updating-icon")},success:function(e){var t=e.data.review_id,e=e.data.review;n(".tutor-review-"+t+" .review-content").html(e),location.reload()}})}),n(".btn-toggle-lesson-sidebar").on("click",function(){t.toggleClass("lesson-sidebar-on")}),n(document).on("click",".tutor-single-lesson-a",function(){t.removeClass("lesson-sidebar-on")}),n(document).on("click",function(e){"tutor-lesson-sidebar"!==e.target.id&&(n(e.target).closest("#tutor-lesson-sidebar").length||n(e.target).closest(".btn-toggle-lesson-sidebar").length||992<=window.innerWidth||t.removeClass("lesson-sidebar-on"))}),n(".dashboard-header-toggle-menu").on("click",function(){t.toggleClass("dashboard-nav-opened")}),n("#tutor-dashboard-left-menu").on("click",function(e){"dashboard-nav-wrapper"!==e.target.id&&(n(e.target).closest("#dashboard-nav-wrapper").length||t.removeClass("dashboard-nav-opened"))}),e(),n(window).on("resize",function(){e()})})}(jQuery);