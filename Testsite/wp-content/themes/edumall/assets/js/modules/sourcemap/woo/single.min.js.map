{"version":3,"sources":["single.js"],"names":["jQuery","document","ready","$","$sliderWrap","options","thumbsSlider","mainSlider","$form","variations","$edumall","isProduct","productFeatureStyle","find","hasClass","children","EdumallSwiper","thumbs","swiper","data","on","test","globalAttrs","formValues","serializeArray","i","length","_name","name","substring","value","JSON","stringify","variationImageID","attributes","image_id","$wrapperEl","each","index","slideImageID","this","attr","parseInt","slideTo"],"mappings":"AAAAA,OAAAC,UAAAC,MAAA,SAAAC,gBAKA,IAEAC,EAEAC,EAEAC,EAOAC,EACAC,EACAC,EAdA,MAAAC,SAAAC,WAAA,WAAAD,SAAAE,sBACAR,EAAAD,EAAA,oBAAAU,KAAA,uBAEAR,EAAA,GACAD,EAAAU,SAAA,uBACAR,EAAAF,EAAAW,SAAA,0BAAAC,gBACAX,EAAA,CACAY,OAAA,CACAC,OAAAZ,KAIAC,EAAAH,EAAAW,SAAA,wBAAAC,cAAAX,GACAG,EAAAL,EAAA,oBACAM,EAAAD,EAAAW,KAAA,sBAEAX,EAAAK,KAAA,UAAAO,GAAA,SAAA,WAMA,IALA,IAAAC,GAAA,EACAC,EAAA,GAEAC,EAAAf,EAAAgB,iBAEAC,EAAA,EAAAA,EAAAF,EAAAG,OAAAD,IAAA,CAEA,IAAAE,EAAAJ,EAAAE,GAAAG,KACA,GAAA,eAAAD,EAAAE,UAAA,EAAA,MAEAP,EAAAK,GAAAJ,EAAAE,GAAAK,MAEA,KAAAP,EAAAE,GAAAK,OAAA,CACAT,GAAA,EAEA,OAKA,IAAA,IAAAA,EAAA,CACAC,EAAAS,KAAAC,UAAAV,GAEA,IAAAG,EAAAhB,EAAAiB,OAAA,EAAA,GAAAD,EAAAA,IAAA,CACA,IAIAQ,EAJAC,EAAAzB,EAAAgB,GAAAS,WACAH,KAAAC,UAAAE,IAEAZ,IACAW,EAAAxB,EAAAgB,GAAAU,SAEA5B,EAAA6B,WAAAvB,KAAA,iBAAAwB,KAAA,SAAAC,GACA,IAAAC,EAAApC,EAAAqC,MAAAC,KAAA,iBAGA,IAFAF,EAAAG,SAAAH,MAEAN,EAGA,OAFA1B,EAAAoC,QAAAL,IAEA,UAKA,CAEA,IACAA,EADA/B,EAAA6B,WAAAvB,KAAA,uBACAyB,QACA/B,EAAAoC,QAAAL","file":"../../../woo/single.min.js","sourcesContent":["jQuery( document ).ready( function( $ ) {\n\t'use strict';\n\n\tinitProductImagesSlider();\n\n\tfunction initProductImagesSlider() {\n\t\tif ( $edumall.isProduct === '1' && $edumall.productFeatureStyle === 'slider' ) {\n\t\t\tvar $sliderWrap = $( '#woo-single-info' ).find( '.woo-single-gallery' );\n\n\t\t\tvar options = {};\n\t\t\tif ( $sliderWrap.hasClass( 'has-thumbs-slider' ) ) {\n\t\t\t\tvar thumbsSlider = $sliderWrap.children( '.edumall-thumbs-swiper' ).EdumallSwiper();\n\t\t\t\toptions = {\n\t\t\t\t\tthumbs: {\n\t\t\t\t\t\tswiper: thumbsSlider\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar mainSlider = $sliderWrap.children( '.edumall-main-swiper' ).EdumallSwiper( options );\n\t\t\tvar $form = $( '.variations_form' );\n\t\t\tvar variations = $form.data( 'product_variations' );\n\n\t\t\t$form.find( 'select' ).on( 'change', function() {\n\t\t\t\tvar test = true;\n\t\t\t\tvar globalAttrs = {};\n\n\t\t\t\tvar formValues = $form.serializeArray();\n\n\t\t\t\tfor ( var i = 0; i < formValues.length; i ++ ) {\n\n\t\t\t\t\tvar _name = formValues[ i ].name;\n\t\t\t\t\tif ( _name.substring( 0, 10 ) === 'attribute_' ) {\n\n\t\t\t\t\t\tglobalAttrs[ _name ] = formValues[ i ].value;\n\n\t\t\t\t\t\tif ( formValues[ i ].value === '' ) {\n\t\t\t\t\t\t\ttest = false;\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( test === true ) {\n\t\t\t\t\tglobalAttrs = JSON.stringify( globalAttrs );\n\n\t\t\t\t\tfor ( var i = variations.length - 1; i >= 0; i -- ) {\n\t\t\t\t\t\tvar attributes = variations[ i ].attributes;\n\t\t\t\t\t\tvar loopAttributes = JSON.stringify( attributes );\n\n\t\t\t\t\t\tif ( loopAttributes == globalAttrs ) {\n\t\t\t\t\t\t\tvar variationImageID = variations[ i ].image_id;\n\n\t\t\t\t\t\t\tmainSlider.$wrapperEl.find( '.swiper-slide' ).each( function( index ) {\n\t\t\t\t\t\t\t\tvar slideImageID = $( this ).attr( 'data-image-id' );\n\t\t\t\t\t\t\t\tslideImageID = parseInt( slideImageID );\n\n\t\t\t\t\t\t\t\tif ( slideImageID === variationImageID ) {\n\t\t\t\t\t\t\t\t\tmainSlider.slideTo( index );\n\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Reset to main image.\n\t\t\t\t\tvar $mainImage = mainSlider.$wrapperEl.find( '.product-main-image' );\n\t\t\t\t\tvar index = $mainImage.index();\n\t\t\t\t\tmainSlider.slideTo( index );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n} );\n"]}